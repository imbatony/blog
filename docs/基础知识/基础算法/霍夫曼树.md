
# 霍夫曼树

霍夫曼树又称最优二叉树，**是一种带权路径长度最短的二叉树**。所谓树的带权路径长度，就是树中所有的叶结点的权值乘上其到根结点的路径长度（若根结点为0层，叶结点到根结点的路径长度为叶结点的层数）。**树的路径长度是从树根到每一结点的路径长度之和**，记为 $WPL=W1\times L1+W2\times L2+W3\times L3+...+Wn\times Ln$，N个权值Wi（i=1,2,...n）构成一棵有N个叶结点的二叉树，相应的叶结点的路径长度为Li（i=1,2,...n）。**可以证明霍夫曼树的WPL是最小的**。

## 霍夫曼树构造

  1. 根据给定的n个权值`(W1,W2...Wn)`，使对应节点构成n个二叉树的森林`T=(T1,T2...Tn)`，其中每个二叉树`Ti(1 <= i <= n)`中都有一个带权值为Wi的根节点，其左、右子树均为空。
  2. 在森林T中选取两个节点权值最小的子树，分别作为左、右子树构造一个新的二叉树，且置新的二叉树的根节点的权值为其左右子树上根节点权值之和。
  3. 在森林T中，用新得到的二叉树替代选取的两个二叉树。
  4. 重复2和3，直到T只包含一个树为止。这个数就是霍夫曼树。

>定理：对于具有n个叶子节点的霍夫曼树，共有`2n-1`个节点。这是由于霍夫曼树只有度为0和度为2的结点，根据二叉树的性质 `n0 = n2 + 1`，因此度为2的结点个数为`n-1`个，总共有`2n-1`个节点。

## 霍夫曼编码

对于一个霍夫曼树，所有左链接取'0'、右链接取'1'。从树根至树叶依序记录所有字母的编码。


## 带权路径

  - `结点的权`：若将树中结点赋给一个有着某种含义的数值，则这个数值称为该结点的权。
  - `结点的带权路径`：从根结点到该结点之间的路径长度与该结点的权的乘积。
  - `树的带权路径`：所有叶子结点的带权路径长度之和，记为`WPL`。